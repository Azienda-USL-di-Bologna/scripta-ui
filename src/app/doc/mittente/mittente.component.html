<div *ngIf="!pregresso">
  <div class="mittente-box p-grid">
    <label class="p-col-3" for="mittente">Mittente</label>
    <form class="box">
      <p-autoComplete 
        id="mittente"
        [(ngModel)]="selectedMittenti"
        (onSelect)="saveMittente($event)"
        [suggestions]="filteredMittente"
        (completeMethod)="searchMittente($event)"
        ariaLabel="Descrizione del mittente"
        field="descrizione"
        appendTo="body"
        class="p-col-2 input"
        [required]="true"
        type="text"
        [ngModelOptions]="{standalone: true}"
        (onClear)="onDeleteMittente()"
        [disabled]="true">
        <ng-template let-contatto pTemplate="item">
          <span>{{contatto.descrizioneCustom}}</span>
        </ng-template>
      </p-autoComplete>
    </form> 
    <span class="p-col">
      <input id="Indirizzo"
        aria-label="indirizzo"
        type="text" 
        pInputText 
        [(ngModel)]="indirizzo"> 
      </span>
  </div>
  <div class="mittente-box p-grid">
    <label class="p-col-3" for="origine">Origine</label>
    <span class="p-col">
      <input id="Origine"
        aria-label="Origine"
        type="text" 
        pInputText 
        [(ngModel)]="actualOrigine"
        [disabled]="true"
        > 
      </span>
    <!-- <p-autoComplete id="Origine"
      ariaLabel="origine"
      [(ngModel)]="selectedOrigine"
      [suggestions]="filteredOrigine"
      (completeMethod)="searchTipo($event)"
      [dropdown]="true"
      field="name"
      appendTo="body"
      class="p-col">
    </p-autoComplete> -->
    <label class="p-col-2" for="mezzo">Mezzo</label><!-- _doc.mittenti[0].spedizioneList[0].idMezzo -->
    <p-autoComplete id="mezzo"
      [(ngModel)]="actualMezzo"
      (onSelect)="saveMezzo($event)"
      [suggestions]="filteredMezzo"
      (completeMethod)="searchMezzo($event)"
      field="descrizione"
      [dropdown]="true"
      appendTo="body"
      class="p-col">
    </p-autoComplete>
  </div>
  <div class="mittente-box p-grid">
    <label class="p-col-3" for="dataArrivo">Data di arrivo</label>
    <p-calendar
      id="dataArrivo"
      aria-label="data di arrivo"
      [(ngModel)]="actualDataDiArrivo"
      (onSelect)="dateSelected($event)"
      dateFormat="dd/mm/yy"
      [showIcon]="true"
      inputId="icon"
      appendTo="body"
      class="p-col-3">
    </p-calendar>
    <span  class="p-col"></span>
    <!-- Per il momento la funzione non Ã¨ implementata quindi lo teniamo nascosto
      <p-button
      label="pec di origine"
      styleClass="p-button-link"
      class="p-col">
    </p-button> -->
  </div>

  <div class="protocollo-esterno-box p-grid">
    <label class="p-col-3" id="datiProtocolloEsterno">Dati Protocollo Esterno</label>
    <p-inputNumber
            ariaLabel="numero protocollo esterno"
            [disabled]="false"
            id="p-datiProtocolloEsterno"
            inputId="datiProtocolloEsterno"
            [(ngModel)]="DatiProtocolloEsterno"
            class="p-col">
    </p-inputNumber>
    <label class="p-col-2" for="c-dataProtocollazione">del</label>
    
    <p-calendar
            #CdataProtocolloEsterno
            id="c-dataProtocollazione"
            aria-labelledby="dataProtocollazione"
            [ariaLabelledBy]="'dataProtocollazione'"
            [(ngModel)]="dataProtocolloEsterno"
            dateFormat="dd/mm/yy"
            [locale]="localIt"
            [showIcon]="true"
            inputId="dataProtocollazione"
            appendTo="body"
            class="p-col">
    </p-calendar>
  </div>
  
</div>
<div *ngIf="pregresso">
  <p-table *ngIf="tipoDocumento === 'PROTOCOLLO_IN_ENTRATA'"
    [value]="mittenti"
    >
    <ng-template pTemplate="header">
      <tr>
        <th> Mittente </th>
        <th> Indirizzo </th>
        <th> Mezzo </th>
      </tr>
    </ng-template>

    <ng-template let-rowdata pTemplate="body">
      <tr>
        <td> {{rowdata.descrizione}} </td>
        <td> {{rowdata.ultimaSpedizione?.indirizzo?.completo}} </td>
        <td> {{rowdata.ultimaSpedizione?.idMezzo?.descrizione}} </td>
      </tr>
    </ng-template>
  </p-table>
  <div *ngIf="tipoDocumento !== 'PROTOCOLLO_IN_ENTRATA'">
    <label class="p-col-2" for="mittente">Mittenti</label>
    <p-listbox [options]="doc.mittenti" optionLabel="descrizione" [disabled]="true"></p-listbox>
  </div>
</div>